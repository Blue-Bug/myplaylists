<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head th:replace="fragments.html::head"></head>
<body>
    <div class="container">
        <div th:replace="fragments.html::main_nav"></div>
        <div class="row justify-content-center py-5">
            <u class="container row col-md-10"><h1 th:text="${posts.title}"></h1></u>
            <div class="row">
                <div class="container border col-md-7">
                    <th:block th:each="playlist,playlistStat : ${posts.playlists}">
                        <div class="accordion py-5">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" th:id="|accordion${playlistStat.index}|"
                                            th:data-bs-target="|#flush-collapse${playlistStat.index}|" aria-expanded="false" th:aria-controls="|flush-collapse${playlistStat.index}|"
                                            th:classappend="${playlist.playlistType} == Y? bg-danger:bg-success">
                                        <div class="row">
                                            <b><small class="text-white" th:text="${playlist.title}">플레이리스트 제목</small></b>
                                            <small class="text-white mt-3" th:text="${playlist.description}">플레이리스트 설명</small>
                                        </div>
                                    </button>
                                </h2>
                                <div th:id="|flush-collapse${playlistStat.index}|" class="accordion-collapse collapse" th:data-bs-parent="|#accordion${playlistStat.index}|">
                                    <th:block th:each="link : ${playlist.links}">
                                        <div class="accordion-body">
                                            <!-- iframe으로 영상 삽입 -->
                                            <iframe class="dropdown-item" type="text/html" width="640" height="500"
                                                    th:src="|https://www.youtube.com/embed/${link.link}|"
                                                    src="https://www.youtube.com/embed/0xGJx6qsNCY"
                                                    frameborder="0"
                                                    allowfullscreen></iframe>
                                        </div>
                                    </th:block>
                                </div>
                            </div>
                        </div>
                    </th:block>
                </div>
                <div class="border col-md-3">
                    <p class="pt-3">
                        <b><label>작성자</label></b>
                        <div class="row">
                            <div>
                                <svg xmlns="http://www.w3.org/2000/svg" width="38" height="38" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                                    <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                                </svg>
                                <span th:text="${posts.postsOwner.nickname}"></span>
                            </div>
                        </div>
                    </p>
                    <p>
                        <b><label>설명</label></b>
                        <div class="row">
                          <small th:text="${posts.description}"></small>
                        </div>
                    </p>
                </div>
            </div>
        </div>

    </div>
</body>
</html>